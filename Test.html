<html>
<head>
    <style>
        #message { display: none}
        #loading {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 100;
        width: 100vw;
        height: 100vh;
        background-color: rgba(192, 192, 192, 0.5);
        background-image: url("http://i.stack.imgur.com/MnyxU.gif");
        background-repeat: no-repeat;
        background-position: center;
    }
    </style>
</head>
<body>

<div id="message">

<p><h1 style="color:Orange;">Congratulations! Visualisation Plugins appear to be working on your SynBioHub</h1></p>
<p>URL sent: URL_REPLACE</p>
<p>URI sent: URI_REPLACE</p>
<p>Instance sent: INSTANCE_REPLACE</p>
<p>Full data sent: REQUEST_REPLACE </p>

</div>

<div id="loading"></div>
<script>
    function onReady(callback) {
    var intervalID = window.setInterval(checkReady, 1000);

    function checkReady() {
        fetch('http://3.128.188.117:80/plugin_poll/1234')
            .then(response => {
                if (!response.ok) {
                    throw new Error("HTTP status " + response.status);
                }
                else {
                    console.log(response.json());
                }
            })
            //.then(data => console.log(data));
    }
}

function show(id, value) {
    document.getElementById(id).style.display = value ? 'block' : 'none';
}

onReady(function () {
    show('message', true);
    show('loading', false);
});
</script>
</body>

</html>
